---
import TableOfContents from "../components/TableOfContents.astro";
import Layout from "./Layout.astro";

const { frontmatter, headings } = Astro.props;
---

<Layout title={frontmatter.title}>
  <article
    class="prose prose-lime dark:prose-invert lg:prose-pre:-mx-14 md:prose-pre:-mx-7 prose-code:whitespace-pre prose-code:before:content-[''] prose-code:after:content-[''] mx-auto max-w-prose py-10"
  >
    <h1>{frontmatter.title}</h1>

    {
      frontmatter.draft && (
        <p class="rounded border border-lime-300 bg-lime-100 p-3 text-lg italic opacity-90 dark:border-lime-900 dark:text-slate-900">
          This post is still a draft
        </p>
      )
    }

    {
      headings.length > 1 && (
        <>
          <TableOfContents headings={headings} />
          <hr />
        </>
      )
    }

    <slot />
  </article>
</Layout>
